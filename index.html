function calculateTax() {
    const income = parseFloat(document.getElementById('income').value);
    const standardDeduction = 75000; // Updated standard deduction

    // Calculate taxable income
    let taxableIncome = income - standardDeduction;
    if (taxableIncome < 0) {
        taxableIncome = 0; // Avoid negative taxable income
    }

    let taxLiability = 0;

    // Apply the updated tax rates based on slabs
    if (taxableIncome > 2400000) {
        taxLiability += (taxableIncome - 2400000) * 0.30;
        taxableIncome = 2400000;
    }
    if (taxableIncome > 2000000) {
        taxLiability += (taxableIncome - 2000000) * 0.25;
        taxableIncome = 2000000;
    }
    if (taxableIncome > 1600000) {
        taxLiability += (taxableIncome - 1600000) * 0.20;
        taxableIncome = 1600000;
    }
    if (taxableIncome > 1200000) {
        taxLiability += (taxableIncome - 1200000) * 0.15;
        taxableIncome = 1200000;
    }
    if (taxableIncome > 800000) {
        taxLiability += (taxableIncome - 800000) * 0.10;
        taxableIncome = 800000;
    }
    if (taxableIncome > 400000) {
        taxLiability += (taxableIncome - 400000) * 0.05;
    }

    const cess = taxLiability * 0.04; // Applying 4% cess
    const totalTax = taxLiability + cess;

    // Display results
    document.getElementById('totalIncome').innerText = income.toFixed(2);
    document.getElementById('standardDeduction').innerText = standardDeduction.toFixed(2);
    document.getElementById('taxLiability').innerText = taxLiability.toFixed(2);
    document.getElementById('cess').innerText = cess.toFixed(2);
    document.getElementById('totalTax').innerText = totalTax.toFixed(2);
}
